<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>User Registration Page</title>
<meta name="viewport" content="width=device-width, initial-scale=1"></meta>


<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
	th:href="@{/webjars/bootstrap/4.0.0-beta.2/css/bootstrap.min.css}" />
<link href="../static/css/custom.css" th:href="@{/css/custom.css}"
	rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
	integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
	crossorigin="anonymous"
	th:href="@{/webjars/jquery/3.2.1/jquery.min.js}"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>

</head>
<body>

	<div class="container">


		<div class="row">
			<div class="col-2 flex-first px-0">
				<nav class="nav flex-column">
					<a class="nav-item nav-link" href="manage_user.html"
						th:href="@{/manage_user}">Manage Account</a> <a
						class="nav-item nav-link" href="manage_password.html"
						th:href="@{/manage_password}">Change Password</a> <a
						class="nav-item  nav-link" href="manage_address.html"
						th:href="@{/manage_address}">Manage Addresses</a> <span
						class="nav-item  nav-link">Manage Cards</span>
				</nav>
			</div>

			<div class="col-6 text-center">
				<div th:if="${ success!=null}" th:text="${success}"
					class="alert alert-success " role="alert"></div>
				<div th:if="${ alert!=null}" th:text="${alert}"
					class="alert alert-danger " role="alert"></div>

				<div id="accordion" role="tablist">
					<th:block th:each="card,itrStat:${cards}">
						<div class="card">
							<a class="card-header" role="tab" id="headingOne"
								data-toggle="collapse" th:href="'#collapse'+${itrStat.index}"
								aria-expanded="true" aria-controls="collapseOne">
								<div class="row">
									<div class="col-6 text-left">
										Card ending with <span th:text="${card.cardId.cardNo}"></span>
									</div>
									<div class="col-6 text-right">
										Expiry date <span th:text="${card.expiryDate}"></span>
									</div>
								</div>
							</a>
							<div th:id="'collapse'+${itrStat.index}" class="collapse show"
								role="tabpanel" aria-labelledby="headingOne"
								data-parent="#accordion">
								<div class="card-body">
									<div class="row">
										<div class="col-4 text-left">
											<div>
												<b>Name on the card</b>
											</div>
											<div>
												<span th:text="${card.nameOnCard}"></span>
											</div>
										</div>
										<div class="col-8 text-right">
											<div>
												<b>Billing Address</b>
											</div>
											<div>
												<span th:text="${card.address.address1}"></span>,
											</div>
											<div>
												<span th:text="${card.address.address2}"></span>,
											</div>
											<div>
												<span th:text="${card.address.city}"></span>, <span
													th:text="${card.address.state}"></span>,
											</div>
											<div>
												<span th:text="${card.address.pincode}"></span>, <span
													th:text="${card.address.country}"></span>
											</div>


										</div>
									</div>
									<div class="row">
										<div class="col-6"></div>
										<div class="col-6">
											<a class="btn btn-primary"
												th:href="@{/manage_card/edit(cardNo=${card.cardId.cardNo})}">Edit</a>

											<a class="btn btn-primary"
												th:href="@{/manage_card/delete(cardNo=${card.cardId.cardNo})}">Delete</a>
										</div>
									</div>

								</div>
							</div>
						</div>
					</th:block>
				</div>
				<div class="align-left">
					<a href="add_Card.html" th:href="@{/add_card}"
						class="btn btn-primary">Add a card</a>
				</div>


			</div>
		</div>

	</div>

	<script>
		$('.collapse').collapse();
	</script>

</body>
</html>