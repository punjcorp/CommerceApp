<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta th:name="_csrf" th:content="${_csrf.token}" />
<meta th:name="_csrf_header" th:content="${_csrf.headerName}" />
<meta charset="utf-8" />
<title>Style Creation Page</title>
<!-- This thymeleaf fragment include all the header stuff -->
<div th:replace="common/header:: header"></div>
<script src="../../js/jquery-ui.min.js" th:src="@{/js/jquery-ui.min.js}"></script>
<script src="../../js/item/item_classes.js" th:src="@{/js/item/item_classes.js}"></script>
<script src="../../js/item/item.js" th:src="@{/js/item/item.js}"></script>
</head>
<body>
	<div id="wrapper">
		<!-- This thymeleaf fragment include left menu -->
		<div th:include="common/pos_menu:: leftMenu"></div>
		<!-- Page Content -->
		<div id="page-content-wrapper">
			<!-- This thymeleaf fragment include the top navigation bar-->
			<div th:include="common/navbar :: navbarMenu"></div>
			<!-- This thymeleaf fragment is the body part for the page-->
			<div class="card content-container">
				<div class="card-header">
					<h3>Create a Style</h3>
				</div>
				<div class="card-body">
					<div class="card-text">
						<div th:if="${ success!=null}" th:text="${success}" class="alert alert-success " role="alert"></div>
						<div th:if="${ alert!=null}" th:text="${alert}" class="alert alert-danger " role="alert"></div>
						<form class="form" id="addItem" th:action="@{/add_style}" th:object="${itemBean}" enctype="multipart/form-data" method="post">
							<div class="form-group">
								<label><small><span th:text="#{commerce.screen.item.name}">Item Name</span></small></label>
								<div class="input-group">
									<input type="text" th:field="*{name}" class="form-control input-sm" th:placeholder="#{commerce.screen.item.name.placeholder}"></input>
								</div>
								<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger">Name Error</div>
							</div>
							<div class="form-group">
								<label><small><span th:text="#{commerce.screen.item.description}">Item Description</span></small></label>
								<div class="input-group">
									<textarea th:field="*{longDesc}" class="form-control input-sm" th:placeholder="#{commerce.screen.item.description.placeholder}" rows="2"></textarea>
								</div>
								<div th:if="${#fields.hasErrors('longDesc')}" th:errors="*{longDesc}" class="text-danger">Description Error</div>
							</div>
							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<label><small><span th:text="#{commerce.screen.item.hierarchy}">Item Hierarchy
													(Department/Sub-Department/Category/Sub-Category)</span></small></label>
										<div class="input-group">
											<input type="text" th:field="*{hierarchy.name}" class="form-control input-sm"
												th:placeholder="#{commerce.screen.item.hierarchy.placeholder}"></input>
										</div>
										<div th:if="${#fields.hasErrors('hierarchy.name')}" th:errors="*{hierarchy.name}" class="text-danger">Item Hierarchy Error</div>
										<input type="hidden" th:field="*{hierarchy.hierarchyId}"></input>
									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<label><small><span th:text="#{commerce.screen.item.select.type}">Select Item Type</span></small></label>
										<div class="input-group">
											<select th:field="*{itemType}" class="form-control input-sm">
												<option class="form-text text-muted" value="" selected="selected" th:text="#{commerce.screen.item.select.type}">Select Item Type</option>
												<option th:value="Merchandise" th:text="#{commerce.screen.item.type.merch}"></option>
												<option th:value="Non-Merchandise" th:text="#{commerce.screen.item.type.nonmerch}"></option>
												<option th:value="Service" th:text="#{commerce.screen.item.type.service}"></option>
											</select>
										</div>
										<div th:if="${#fields.hasErrors('itemType')}" th:errors="*{itemType}" class="text-danger">Item TypeError</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<label><small><span th:text="#{commerce.screen.item.tax.group}">Tax Group</span></small></label>
										<div class="input-group">
											<select th:field="*{itemOptions.taxGroupId}" class="form-control input-sm">
												<option class="form-text text-muted" value="" selected="selected" th:text="#{commerce.screen.item.select.tax.group}">Select Tax
													Group</option>
												<option th:each="taxGroup: ${taxGroups}" th:value="${taxGroup.taxGroupId}" th:text="${taxGroup.name} + ' - ' +${taxGroup.description}"></option>
											</select>
										</div>
										<div th:if="${#fields.hasErrors('itemOptions.taxGroupId')}" th:errors="*{itemOptions.taxGroupId}" class="text-danger">Tax Group Error</div>
									</div>
								</div>
								<div class="col-xs-6 col-sm-6 col-md-6">
									<div class="form-group">
										<label><small><span th:text="#{commerce.screen.item.uom}">Unit of Measure</span></small></label>
										<div class="input-group">
											<select th:field="*{itemOptions.uom}" class="form-control input-sm">
												<option class="form-text text-muted" value="" selected="selected" th:text="#{commerce.screen.item.select.uom}">Select UOM</option>
												<option th:each="uom: ${UOMs}" th:value="${uom.uomId}" th:text="${uom.name} + ' - ' +${uom.description}"></option>
											</select>
										</div>
										<div th:if="${#fields.hasErrors('itemOptions.uom')}" th:errors="*{itemOptions.uom}" class="text-danger">UOM Error</div>
									</div>
								</div>
							</div>
							<!-- Default Settings -->
							<div class="row">
								<div class="col-xs-12 col-sm-12 col-md-12">
									<div class="card form-group">
										<div class="card-header">
											<div class="row">
												<div class="col-11 text-left">Default Options</div>
												<div class="col-1 text-right">
													<a data-toggle="collapse" href="#defaultOptions" aria-expanded="false" aria-controls="defaultOptions"><i class="fas fa-angle-down"></i></a>
												</div>
											</div>
										</div>
										<div id="defaultOptions" class="collapse show">
											<div class="card-body">
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.pack.size}">Pack Size</span></small></label>
															<div class="input-group">
																<input type="text" th:field="*{itemOptions.packSize}" class="form-control input-sm"
																	th:placeholder="#{commerce.screen.item.pack.size.placeholder}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.packSize')}" th:errors="*{itemOptions.packSize}" class="text-danger">Pack Size Error</div>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.discountFlag}" />
																Discount Flag
															</label>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.returnFlag}"></input>
																Return Flag
															</label>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.taxFlag}" /> Tax Flag
															</label>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.askQtyFlag}"></input>
																Ask Qty Flag
															</label>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.askPriceFlag}" /> Ask
																Price Flag
															</label>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.descFlag}"></input>
																Ask Description Flag
															</label>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.priceChangeFlag}" />
																Price Change Allowed
															</label>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.nonMerchFlag}"></input>
																Non Merch Flag
															</label>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.minAgeFlag}" /> Min
																Age Needed
															</label>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-check text-left">
															<label class="form-check-label"> <input type="checkbox" class="form-check-input" th:field="*{itemOptions.customerPromptFlag}"></input>
																Customer Prompt Flag
															</label>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- Prices -->
							<div class="row">
								<div class="col-xs-12 col-sm-12 col-md-12">
									<div class="card form-group">
										<div class="card-header">
											<div class="row">
												<div class="col-11 text-left">Prices</div>
												<div class="col-1 text-right">
													<a data-toggle="collapse" href="#prices" aria-expanded="false" aria-controls="prices"><i class="fas fa-angle-down"></i></a>
												</div>
											</div>
										</div>
										<div id="prices" class="collapse show">
											<div class="card-body">
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.unit.cost}">Unit Cost Amount</span></small></label>
															<div class="input-group">
																<input type="text" class="form-control input-sm" th:placeholder="#{commerce.screen.item.unit.cost.placeholder}"
																	th:field="*{itemOptions.unitCost}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.unitCost')}" th:errors="*{itemOptions.unitCost}" class="text-danger">Unit Cost Error</div>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.suggested.price}">Suggested Price</span></small></label>
															<div class="input-group">
																<input type="text" class="form-control input-sm" th:placeholder="#{commerce.screen.item.suggested.price.placeholder}"
																	th:field="*{itemOptions.suggestedPrice}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.suggestedPrice')}" th:errors="*{itemOptions.suggestedPrice}" class="text-danger">Suggested
																Price Error</div>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.compareat.price}">Compare At Price</span></small></label>
															<div class="input-group">
																<input type="text" class="form-control input-sm" th:placeholder="#{commerce.screen.item.compareat.price.placeholder}"
																	th:field="*{itemOptions.compareAtPrice}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.compareAtPrice')}" th:errors="*{itemOptions.compareAtPrice}" class="text-danger">Compare
																At Price Error</div>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.current.price}">Current Selling Price</span></small></label>
															<div class="input-group">
																<input type="text" class="form-control input-sm" th:placeholder="#{commerce.screen.item.current.price.placeholder}"
																	th:field="*{itemOptions.currentPrice}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.currentPrice')}" th:errors="*{itemOptions.currentPrice}" class="text-danger">Current
																Price Error</div>
														</div>
													</div>
												</div>
												<div class="row">
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.mrp}">MRP</span></small></label>
															<div class="input-group">
																<input type="text" class="form-control input-sm" th:placeholder="#{commerce.screen.item.mrp.placeholder}"
																	th:field="*{itemOptions.maxRetailPrice}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.maxRetailPrice')}" th:errors="${itemOptions.maxRetailPrice}" class="text-danger">MRP
																Error</div>
														</div>
													</div>
													<div class="col-xs-6 col-sm-6 col-md-6">
														<div class="form-group">
															<label><small><span th:text="#{commerce.screen.item.restocking.fee}">Restocking Fee</span></small></label>
															<div class="input-group">
																<input type="text" class="form-control input-sm" placeholder="Restocking Fee" th:field="*{itemOptions.restockingFee}"></input>
															</div>
															<div th:if="${#fields.hasErrors('itemOptions.restockingFee')}" th:errors="${itemOptions.restockingFee}" class="text-danger">Restocking
																Fee Error</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- Images -->
							<div class="row">
								<div class="col-xs-12 col-sm-12 col-md-12">
									<div class="card form-group">
										<div class="card-header">
											<div class="row">
												<div class="col-11 text-left">Images</div>
												<div class="col-1 text-right">
													<a data-toggle="collapse" href="#images" aria-expanded="false" aria-controls="images"><i class="fas fa-angle-down"></i></a>
												</div>
											</div>
										</div>
										<div id="images" class="collapse show">
											<div class="card-body">
												<div th:if="${itemBean.itemImages!=null and #lists.size(itemBean.itemImages)>0}">
													<div class="form-group" th:each="itemImage,itrStat:${itemBean.itemImages}">
														<div class="row">
															<div class="col">
																<div class="form-group">
																	<label><small><span th:text="#{commerce.screen.item.image.name}">Item Image Name</span> <span
																			th:text="${itrStat.index+1}"> </span></small></label>
																	<div class="input-group">
																		<input type="text" class="form-control input-sm" th:field="${itemBean.itemImages[__${itrStat.index}__].name}"
																			th:placeholder="#{commerce.screen.item.image.name.placeholder}"></input>
																	</div>
																	<div th:if="${#fields.hasErrors('itemImages[__${itrStat.index}__].name')}"
																		th:errors="${itemBean.itemImages[__${itrStat.index}__].name}" class="text-danger">Item Image Name Error</div>
																</div>
															</div>
															<div class="col">
																<div class="form-group">
																	<label><small><span th:text="#{commerce.screen.item.image}"> </span> <span th:text="${itrStat.index+1}"> </span></small></label>
																	<div class="input-group">
																		<input type="file" class="form-control input-sm" th:placeholder="#{commerce.screen.item.image.placeholder}"
																			th:field="*{itemImages[__${itrStat.index}__].imageData}" accept="image/*" multiple="multiple"/>
																	</div>
																</div>
															</div>
															<div class="col">
																<div th:id="'preview'+${itrStat.index}" class="preview-thumbnail"></div>
															</div>
															<div class="col-2">
																<button type="submit" name="addItemImage" class="btn btn-secondary mx-2">
																	<i class="fas fa-plus fa-2x"></i>
																</button>
																<button type="submit" name="removeItemImage" class="btn btn-secondary mx-2" th:value="${itrStat.index}">
																	<i class="fas fa-minus fa-2x"></i>
																</button>
															</div>
														</div>
													</div>
												</div>
												<div th:if="${itemBean.itemImages==null or #lists.size(itemBean.itemImages)&lt;1}">
													<button type="submit" name="addItemImage" class="btn btn-info mx-2">
														<i class="fas fa-plus fa-2x"></i>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- Style Attributes -->
							<div class="row">
								<div class="col-xs-12 col-sm-12 col-md-12">
									<div class="card form-group">
										<div class="card-header">
											<div class="row">
												<div class="col-11 text-left">Item Attributes</div>
												<div class="col-1 text-right">
													<a data-toggle="collapse" href="#itemAttributes" aria-expanded="false" aria-controls="itemAttributes"><i class="fas fa-angle-down"></i></a>
												</div>
											</div>
										</div>
										<div id="itemAttributes" class="collapse show">
											<div class="card-body">
												<div th:if="${itemBean.attributes!=null and #lists.size(itemBean.attributes)>0}">
													<div class="form-group" th:each="attribute,itrStat:${itemBean.attributes}">
														<div class="row">
															<div class="col-xs-6 col-sm-6 col-md-6">
																<div class="form-group">
																	<label><small><span th:text="#{commerce.screen.item.attribute}">Select Item Attribute</span></small></label>
																	<div class="input-group">
																		<input type="text" class="form-control input-sm" th:field="${itemBean.attributes[__${itrStat.index}__].name}"
																			th:placeholder="#{commerce.screen.item.attribute.placeholder}"></input>
																	</div>
																</div>
															</div>
															<div class="col-xs-6 col-sm-6 col-md-6">
																<div class="col-12 d-none text-center" id="progressDiv">
																	<i class="fas fa-cog fa-spin fa-5x"></i>
																	<div>
																		<span th:text="#{commerce.screen.item.attribute.values.progress}"></span>
																	</div>
																</div>
																<div id="attrValContent"></div>
															</div>
														</div>
														<div id="attributesDiv"></div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<button type="submit" name="saveItem" class="btn btn-info mx-2">
								<span th:text="#{commerce.screen.btn.submit.save}"></span>
							</button>
						</form>
					</div>
				</div>
				<div class="card-footer text-muted">Some text here at later point</div>
			</div>
		</div>
		<!-- /#page-content-wrapper -->
	</div>
	<!-- /#wrapper -->

</body>
</html>